{"ast":null,"code":"import _regeneratorRuntime from\"/home/titus/Development/code/phase-2/bot-battlr-code-challange/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/titus/Development/code/phase-2/bot-battlr-code-challange/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/titus/Development/code/phase-2/bot-battlr-code-challange/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/titus/Development/code/phase-2/bot-battlr-code-challange/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import BotCard from'./BotCard';import FilterBar from'./FilterBar';import SortBar from'./SortBar';import YourBotArmy from'./YourBotArmy';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BotCollection(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bots=_useState2[0],setBots=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredBots=_useState4[0],setFilteredBots=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),enlistedBots=_useState6[0],setEnlistedBots=_useState6[1];useEffect(function(){// Fetch data from the local server using Axios (or any other method)\naxios.get('http://localhost:8001/bots').then(function(response){setBots(response.data);setFilteredBots(response.data);// Initialize filteredBots with all bots\n}).catch(function(error){console.error('Error fetching data:',error);});},[]);var handleFilter=function handleFilter(botClass){if(botClass==='all'){setFilteredBots(bots);// Show all bots\n}else{var filtered=bots.filter(function(bot){return bot.bot_class===botClass;});setFilteredBots(filtered);// Show bots of the selected class\n}};var handleSort=function handleSort(criteria){if(criteria===null){setFilteredBots(bots);// Reset to the original order\n}else{var sorted=_toConsumableArray(filteredBots).sort(function(a,b){return b[criteria]-a[criteria];});setFilteredBots(sorted);// Sort the bots based on the selected criteria\n}};var handleEnlist=function handleEnlist(bot){// Check if the bot is already enlisted\nif(enlistedBots.some(function(enlistedBot){return enlistedBot.id===bot.id;})){alert('This bot is already enlisted!');}else{// Add the bot to the enlistedBots state\nsetEnlistedBots(function(prevEnlistedBots){return[].concat(_toConsumableArray(prevEnlistedBots),[bot]);});}};var handleRelease=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(bot){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"http://localhost:8001/bots/\".concat(bot.id));case 3:// Remove the bot from the enlistedBots state\nsetEnlistedBots(function(prevEnlistedBots){return prevEnlistedBots.filter(function(enlistedBot){return enlistedBot.id!==bot.id;});});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error('Error releasing bot:',_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function handleRelease(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bot Collection\"}),/*#__PURE__*/_jsx(YourBotArmy,{enlistedBots:enlistedBots,onRelease:handleRelease}),/*#__PURE__*/_jsx(FilterBar,{onFilter:handleFilter}),/*#__PURE__*/_jsx(SortBar,{onSort:handleSort}),/*#__PURE__*/_jsx(\"div\",{className:\"bot-list\",children:filteredBots.map(function(bot){return/*#__PURE__*/_jsx(BotCard,{bot:bot,onEnlist:handleEnlist},bot.id);})})]});}export default BotCollection;","map":{"version":3,"names":["React","useState","useEffect","axios","BotCard","FilterBar","SortBar","YourBotArmy","jsx","_jsx","jsxs","_jsxs","BotCollection","_useState","_useState2","_slicedToArray","bots","setBots","_useState3","_useState4","filteredBots","setFilteredBots","_useState5","_useState6","enlistedBots","setEnlistedBots","get","then","response","data","catch","error","console","handleFilter","botClass","filtered","filter","bot","bot_class","handleSort","criteria","sorted","_toConsumableArray","sort","a","b","handleEnlist","some","enlistedBot","id","alert","prevEnlistedBots","concat","handleRelease","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","delete","t0","stop","_x","apply","arguments","children","onRelease","onFilter","onSort","className","map","onEnlist"],"sources":["/home/titus/Development/code/phase-2/bot-battlr-code-challange/src/components/BotCollection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport BotCard from './BotCard';\nimport FilterBar from './FilterBar';\nimport SortBar from './SortBar';\nimport YourBotArmy from './YourBotArmy';\n\nfunction BotCollection() {\n  const [bots, setBots] = useState([]);\n  const [filteredBots, setFilteredBots] = useState([]);\n  const [enlistedBots, setEnlistedBots] = useState([]);\n\n  useEffect(() => {\n    // Fetch data from the local server using Axios (or any other method)\n    axios\n      .get('http://localhost:8001/bots')\n      .then((response) => {\n        setBots(response.data);\n        setFilteredBots(response.data); // Initialize filteredBots with all bots\n      })\n      .catch((error) => {\n        console.error('Error fetching data:', error);\n      });\n  }, []);\n\n  const handleFilter = (botClass) => {\n    if (botClass === 'all') {\n      setFilteredBots(bots); // Show all bots\n    } else {\n      const filtered = bots.filter((bot) => bot.bot_class === botClass);\n      setFilteredBots(filtered); // Show bots of the selected class\n    }\n  };\n\n  const handleSort = (criteria) => {\n    if (criteria === null) {\n      setFilteredBots(bots); // Reset to the original order\n    } else {\n      const sorted = [...filteredBots].sort((a, b) => b[criteria] - a[criteria]);\n      setFilteredBots(sorted); // Sort the bots based on the selected criteria\n    }\n  };\n\n  const handleEnlist = (bot) => {\n    // Check if the bot is already enlisted\n    if (enlistedBots.some((enlistedBot) => enlistedBot.id === bot.id)) {\n      alert('This bot is already enlisted!');\n    } else {\n      // Add the bot to the enlistedBots state\n      setEnlistedBots((prevEnlistedBots) => [...prevEnlistedBots, bot]);\n    }\n  };\n\n  const handleRelease = async (bot) => {\n    try {\n      // Remove the bot from the backend\n      await axios.delete(`http://localhost:8001/bots/${bot.id}`);\n      // Remove the bot from the enlistedBots state\n      setEnlistedBots((prevEnlistedBots) =>\n        prevEnlistedBots.filter((enlistedBot) => enlistedBot.id !== bot.id)\n      );\n    } catch (error) {\n      console.error('Error releasing bot:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Bot Collection</h1>\n      <YourBotArmy enlistedBots={enlistedBots} onRelease={handleRelease} />\n      <FilterBar onFilter={handleFilter} />\n      <SortBar onSort={handleSort} />\n      <div className=\"bot-list\">\n        {filteredBots.map((bot) => (\n          <BotCard key={bot.id} bot={bot} onEnlist={handleEnlist} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default BotCollection;\n"],"mappings":"wmBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,IAAAC,SAAA,CAAwBZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAwCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAwCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpCrB,SAAS,CAAC,UAAM,CACd;AACAC,KAAK,CACFuB,GAAG,CAAC,4BAA4B,CAAC,CACjCC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBX,OAAO,CAACW,QAAQ,CAACC,IAAI,CAAC,CACtBR,eAAe,CAACO,QAAQ,CAACC,IAAI,CAAC,CAAE;AAClC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,QAAQ,CAAK,CACjC,GAAIA,QAAQ,GAAK,KAAK,CAAE,CACtBb,eAAe,CAACL,IAAI,CAAC,CAAE;AACzB,CAAC,IAAM,CACL,GAAM,CAAAmB,QAAQ,CAAGnB,IAAI,CAACoB,MAAM,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACC,SAAS,GAAKJ,QAAQ,GAAC,CACjEb,eAAe,CAACc,QAAQ,CAAC,CAAE;AAC7B,CACF,CAAC,CAED,GAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,QAAQ,CAAK,CAC/B,GAAIA,QAAQ,GAAK,IAAI,CAAE,CACrBnB,eAAe,CAACL,IAAI,CAAC,CAAE;AACzB,CAAC,IAAM,CACL,GAAM,CAAAyB,MAAM,CAAGC,kBAAA,CAAItB,YAAY,EAAEuB,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAK,CAAAA,CAAC,CAACL,QAAQ,CAAC,CAAGI,CAAC,CAACJ,QAAQ,CAAC,GAAC,CAC1EnB,eAAe,CAACoB,MAAM,CAAC,CAAE;AAC3B,CACF,CAAC,CAED,GAAM,CAAAK,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIT,GAAG,CAAK,CAC5B;AACA,GAAIb,YAAY,CAACuB,IAAI,CAAC,SAACC,WAAW,QAAK,CAAAA,WAAW,CAACC,EAAE,GAAKZ,GAAG,CAACY,EAAE,GAAC,CAAE,CACjEC,KAAK,CAAC,+BAA+B,CAAC,CACxC,CAAC,IAAM,CACL;AACAzB,eAAe,CAAC,SAAC0B,gBAAgB,WAAAC,MAAA,CAAAV,kBAAA,CAASS,gBAAgB,GAAEd,GAAG,IAAC,CAAC,CACnE,CACF,CAAC,CAED,GAAM,CAAAgB,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOrB,GAAG,SAAAmB,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGtB,CAAA5D,KAAK,CAAC6D,MAAM,+BAAAZ,MAAA,CAA+Bf,GAAG,CAACY,EAAE,CAAE,CAAC,QAC1D;AACAxB,eAAe,CAAC,SAAC0B,gBAAgB,QAC/B,CAAAA,gBAAgB,CAACf,MAAM,CAAC,SAACY,WAAW,QAAK,CAAAA,WAAW,CAACC,EAAE,GAAKZ,GAAG,CAACY,EAAE,GAAC,EACrE,CAAC,CAACY,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAEF7B,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAA8B,QAAA,CAAAI,EAAO,CAAC,CAAC,wBAAAJ,QAAA,CAAAK,IAAA,MAAAR,OAAA,gBAEhD,kBAXK,CAAAL,aAAaA,CAAAc,EAAA,SAAAb,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAWlB,CAED,mBACE1D,KAAA,QAAA2D,QAAA,eACE7D,IAAA,OAAA6D,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB7D,IAAA,CAACF,WAAW,EAACiB,YAAY,CAAEA,YAAa,CAAC+C,SAAS,CAAElB,aAAc,CAAE,CAAC,cACrE5C,IAAA,CAACJ,SAAS,EAACmE,QAAQ,CAAEvC,YAAa,CAAE,CAAC,cACrCxB,IAAA,CAACH,OAAO,EAACmE,MAAM,CAAElC,UAAW,CAAE,CAAC,cAC/B9B,IAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAJ,QAAA,CACtBlD,YAAY,CAACuD,GAAG,CAAC,SAACtC,GAAG,qBACpB5B,IAAA,CAACL,OAAO,EAAciC,GAAG,CAAEA,GAAI,CAACuC,QAAQ,CAAE9B,YAAa,EAAzCT,GAAG,CAACY,EAAuC,CAAC,EAC3D,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAArC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}